# 列表篩選功能測試指南

## 🧪 測試概述

本指南說明如何測試待審核資料集列表的篩選功能，包括搜尋、狀態篩選、模型篩選等功能。

## 📋 測試項目

### 1. 基本篩選功能測試

#### 測試步驟：
1. 登入管理員帳號
2. 進入「待審核資料集管理」頁面
3. 檢查篩選區域是否正常顯示
4. 測試各個篩選控制項

#### 預期結果：
- [ ] 篩選區域正常顯示
- [ ] 搜尋框有搜尋圖示
- [ ] 狀態篩選下拉選單正常
- [ ] 模型篩選下拉選單正常
- [ ] 清除篩選按鈕正常顯示

### 2. 搜尋功能測試

#### 測試步驟：
1. 在搜尋框中輸入關鍵字
2. 檢查搜尋結果
3. 測試不同欄位的搜尋

#### 預期結果：
- [ ] 可以搜尋指令內容
- [ ] 可以搜尋輸出內容
- [ ] 可以搜尋模型名稱
- [ ] 可以搜尋輸入內容
- [ ] 可以搜尋系統提示
- [ ] 搜尋結果即時更新
- [ ] 搜尋不區分大小寫

### 3. 狀態篩選測試

#### 測試步驟：
1. 點擊狀態篩選下拉選單
2. 選擇不同狀態
3. 檢查篩選結果

#### 預期結果：
- [ ] 可以篩選「待審核」狀態
- [ ] 可以篩選「審核中」狀態
- [ ] 可以篩選「已完成」狀態
- [ ] 可以篩選「重新生成中」狀態
- [ ] 選擇「所有狀態」顯示全部資料
- [ ] 篩選結果即時更新

### 4. 模型篩選測試

#### 測試步驟：
1. 點擊模型篩選下拉選單
2. 檢查可用模型列表
3. 選擇不同模型
4. 檢查篩選結果

#### 預期結果：
- [ ] 模型列表自動從資料中提取
- [ ] 模型列表按字母順序排序
- [ ] 可以篩選特定模型
- [ ] 選擇「所有模型」顯示全部資料
- [ ] 篩選結果即時更新

### 5. 組合篩選測試

#### 測試步驟：
1. 同時使用多個篩選條件
2. 檢查組合篩選結果
3. 測試篩選條件的優先級

#### 預期結果：
- [ ] 多個篩選條件可以同時使用
- [ ] 組合篩選結果正確
- [ ] 篩選條件之間是 AND 關係
- [ ] 結果計數正確顯示

### 6. 清除篩選測試

#### 測試步驟：
1. 設定多個篩選條件
2. 點擊「清除篩選」按鈕
3. 檢查篩選是否被清除

#### 預期結果：
- [ ] 所有篩選條件被清除
- [ ] 搜尋框清空
- [ ] 狀態篩選回到「所有狀態」
- [ ] 模型篩選回到「所有模型」
- [ ] 顯示所有資料

### 7. 篩選標籤測試

#### 測試步驟：
1. 設定篩選條件
2. 檢查篩選標籤顯示
3. 點擊標籤上的清除按鈕

#### 預期結果：
- [ ] 搜尋條件顯示藍色標籤
- [ ] 狀態條件顯示綠色標籤
- [ ] 模型條件顯示紫色標籤
- [ ] 可以單獨清除每個篩選條件
- [ ] 標籤樣式美觀

### 8. 結果計數測試

#### 測試步驟：
1. 檢查初始結果計數
2. 設定篩選條件
3. 檢查篩選後結果計數

#### 預期結果：
- [ ] 初始顯示「共 X 筆資料」
- [ ] 篩選後顯示「顯示 X / Y 筆資料」
- [ ] 計數數字正確
- [ ] 計數即時更新

### 9. 空結果處理測試

#### 測試步驟：
1. 設定嚴格的篩選條件
2. 檢查空結果的顯示
3. 測試空結果的操作

#### 預期結果：
- [ ] 空結果時顯示適當的訊息
- [ ] 提供清除篩選的選項
- [ ] 提供新增資料的選項
- [ ] 空結果狀態正確

### 10. 響應式設計測試

#### 桌面版測試：
1. 在桌面瀏覽器中測試
2. 調整瀏覽器視窗大小
3. 檢查篩選區域佈局

#### 預期結果：
- [ ] 篩選控制項水平排列
- [ ] 搜尋框寬度適中
- [ ] 下拉選單寬度適中
- [ ] 佈局美觀

#### 平板版測試：
1. 在平板設備或模擬器中測試
2. 檢查篩選區域佈局

#### 預期結果：
- [ ] 篩選控制項垂直排列
- [ ] 搜尋框佔滿寬度
- [ ] 下拉選單寬度適中
- [ ] 觸控操作順暢

#### 手機版測試：
1. 在手機設備或模擬器中測試
2. 檢查篩選區域佈局

#### 預期結果：
- [ ] 篩選控制項垂直排列
- [ ] 所有控制項佔滿寬度
- [ ] 觸控操作順暢
- [ ] 文字大小適中

### 11. 效能測試

#### 測試步驟：
1. 載入大量資料
2. 測試篩選響應速度
3. 檢查記憶體使用情況

#### 預期結果：
- [ ] 篩選響應快速
- [ ] 無明顯延遲
- [ ] 記憶體使用正常
- [ ] 不會造成瀏覽器卡頓

### 12. 批量操作整合測試

#### 測試步驟：
1. 設定篩選條件
2. 測試批量選擇功能
3. 測試批量刪除功能

#### 預期結果：
- [ ] 批量選擇基於篩選結果
- [ ] 全選/取消全選正確
- [ ] 批量刪除只影響篩選結果
- [ ] 操作後篩選狀態保持

## 🔍 技術實現檢查

### 1. 響應式數據結構
```javascript
const filters = ref({
  search: '',
  status: '',
  model: ''
})

const filteredDatasets = computed(() => {
  let result = datasets.value

  // Search filter
  if (filters.value.search) {
    const searchTerm = filters.value.search.toLowerCase()
    result = result.filter(item => 
      item.instruction?.toLowerCase().includes(searchTerm) ||
      item.output?.toLowerCase().includes(searchTerm) ||
      item.model_name?.toLowerCase().includes(searchTerm) ||
      item.input?.toLowerCase().includes(searchTerm) ||
      item.system?.toLowerCase().includes(searchTerm)
    )
  }

  // Status filter
  if (filters.value.status) {
    result = result.filter(item => item.review_status === filters.value.status)
  }

  // Model filter
  if (filters.value.model) {
    result = result.filter(item => item.model_name === filters.value.model)
  }

  return result
})
```

### 2. 篩選邏輯
- **搜尋篩選**：不區分大小寫，支援多欄位搜尋
- **狀態篩選**：精確匹配狀態值
- **模型篩選**：精確匹配模型名稱
- **組合篩選**：多條件 AND 關係

### 3. UI 組件
- **搜尋框**：帶圖示的輸入框
- **下拉選單**：狀態和模型篩選
- **篩選標籤**：顯示當前篩選條件
- **清除按鈕**：一鍵清除所有篩選

## 🚨 常見問題排查

### 1. 篩選不生效
**可能原因：**
- computed 屬性未正確更新
- 篩選條件格式錯誤
- 數據結構不匹配

**解決方法：**
- 檢查 computed 屬性邏輯
- 確認篩選條件格式
- 驗證數據結構

### 2. 搜尋結果不正確
**可能原因：**
- 搜尋邏輯錯誤
- 欄位名稱不匹配
- 大小寫處理問題

**解決方法：**
- 檢查搜尋邏輯
- 確認欄位名稱
- 測試大小寫處理

### 3. 模型列表為空
**可能原因：**
- 數據中沒有 model_name
- 模型列表提取邏輯錯誤
- 數據未正確載入

**解決方法：**
- 檢查數據結構
- 確認模型列表提取邏輯
- 驗證數據載入

### 4. 響應式問題
**可能原因：**
- CSS 樣式衝突
- 佈局計算錯誤
- 觸控事件處理問題

**解決方法：**
- 檢查 CSS 樣式
- 確認佈局設置
- 測試觸控事件

## 📊 測試記錄

### 測試環境
- 瀏覽器：Chrome/Firefox/Safari/Edge
- 設備：桌面/平板/手機
- 作業系統：Windows/macOS/Linux/iOS/Android

### 測試數據
- 測試資料數量：10-1000 筆
- 不同狀態的資料
- 不同模型的資料
- 包含特殊字符的資料

### 測試結果
- 通過的測試項目
- 失敗的測試項目
- 發現的問題
- 改進建議

## 🔧 調試技巧

### 1. 開發者工具檢查
- 使用 Elements 面板檢查 DOM 結構
- 使用 Console 檢查 JavaScript 錯誤
- 使用 Network 面板檢查 API 請求

### 2. Vue DevTools 檢查
- 檢查響應式數據狀態
- 監控 computed 屬性變化
- 追蹤組件更新

### 3. 效能分析
- 使用 Performance 面板分析篩選效能
- 監控記憶體使用情況
- 檢查重繪和重排

這個測試指南確保列表篩選功能在所有情況下都能正常工作。 