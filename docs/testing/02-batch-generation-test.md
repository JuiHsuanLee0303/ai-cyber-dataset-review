# 批量生成與隨機選擇功能測試指南

## 🧪 測試概述

本指南說明如何測試新實現的批量隨機生成與逐筆審批功能，確保所有功能正常運作。

## 📋 測試項目

### 1. 生成模式選擇測試

#### 測試步驟：
1. 登入管理員帳號
2. 進入「待審核資料集管理」頁面
3. 點擊「從法規生成」按鈕
4. 檢查生成模式選擇區域

#### 預期結果：
- [ ] 顯示「單筆生成」和「批量生成」兩個選項
- [ ] 預設選擇「單筆生成」
- [ ] 點擊可正常切換模式
- [ ] 選擇狀態有視覺反饋

### 2. 批量設定測試

#### 測試步驟：
1. 選擇「批量生成」模式
2. 檢查批量設定面板
3. 測試生成數量輸入
4. 測試隨機選擇開關

#### 預期結果：
- [ ] 顯示生成數量輸入框（1-20）
- [ ] 顯示隨機選擇法規開關
- [ ] 數量輸入限制在1-20範圍
- [ ] 開關可正常切換
- [ ] 提示文字正確顯示

### 3. 隨機選擇模式測試

#### 測試步驟：
1. 選擇「批量生成」模式
2. 啟用「隨機選擇法規」
3. 檢查法規選擇區域
4. 嘗試點擊法規選擇

#### 預期結果：
- [ ] 法規選擇區域顯示「隨機選擇模式」
- [ ] 可選法規區域顯示提示訊息
- [ ] 已選法規區域顯示隨機選擇說明
- [ ] 法規選擇被禁用（無法點擊）
- [ ] 生成按鈕可正常點擊（無需選擇法規）

### 4. 固定選擇模式測試

#### 測試步驟：
1. 選擇「批量生成」模式
2. 關閉「隨機選擇法規」
3. 檢查法規選擇區域
4. 選擇一些法規條文

#### 預期結果：
- [ ] 法規選擇區域正常顯示
- [ ] 可以正常選擇和取消選擇法規
- [ ] 已選法規顯示選擇的內容
- [ ] 未選擇法規時生成按鈕被禁用
- [ ] 選擇法規後生成按鈕可點擊

### 5. 批量生成測試

#### 測試步驟：
1. 設定批量生成參數（數量：5，啟用隨機選擇）
2. 選擇AI模型
3. 點擊「批量生成 5 筆資料」
4. 等待生成完成

#### 預期結果：
- [ ] 顯示生成進度
- [ ] 生成完成後顯示摘要
- [ ] 成功生成5筆資料
- [ ] 顯示成功/失敗統計

### 6. 逐筆審批測試

#### 測試步驟：
1. 完成批量生成後
2. 檢查逐筆審批界面
3. 使用導航按鈕
4. 測試選擇/跳過功能

#### 預期結果：
- [ ] 顯示「逐筆審批 (1/5)」等進度
- [ ] 上一筆/下一筆按鈕正常工作
- [ ] 選擇/跳過按鈕可點擊
- [ ] 選擇狀態有視覺反饋
- [ ] 可以正常切換不同資料

### 7. 批量確認測試

#### 測試步驟：
1. 在逐筆審批中選擇幾筆資料
2. 點擊「確認加入 (X 筆)」
3. 檢查確認結果

#### 預期結果：
- [ ] 按鈕顯示正確的選擇數量
- [ ] 確認過程顯示載入狀態
- [ ] 成功後顯示成功訊息
- [ ] 資料正確加入待審核資料集

### 8. 重新生成測試

#### 測試步驟：
1. 在批量生成結果頁面
2. 點擊「重新生成」按鈕
3. 等待重新生成完成

#### 預期結果：
- [ ] 重新生成過程正常
- [ ] 保持相同的設定參數
- [ ] 生成新的資料內容
- [ ] 選擇狀態重置

## 🔍 錯誤處理測試

### 1. 網路錯誤測試
- 模擬網路中斷
- 檢查錯誤提示
- 驗證重試功能

### 2. 參數驗證測試
- 測試無效的生成數量
- 測試未選擇模型
- 測試未選擇法規（固定模式）

### 3. 超時處理測試
- 模擬長時間生成
- 檢查超時處理
- 驗證用戶提示

## 📊 效能測試

### 1. 生成速度測試
- 測試不同數量的生成速度
- 比較單筆 vs 批量生成效率
- 檢查記憶體使用情況

### 2. 界面響應測試
- 測試大量資料的界面響應
- 檢查導航按鈕的響應速度
- 驗證選擇狀態的即時更新

## 🚨 邊界條件測試

### 1. 極限值測試
- 測試生成數量為1的情況
- 測試生成數量為20的情況
- 測試只有一個法規的情況

### 2. 空數據測試
- 測試沒有法規的情況
- 測試生成失敗的情況
- 測試沒有選擇任何資料的情況

## 📝 測試記錄

### 測試環境
- 瀏覽器：Chrome/Firefox/Safari
- 作業系統：Windows/macOS/Linux
- 網路環境：正常/慢速/離線

### 測試結果
- 通過的測試項目
- 失敗的測試項目
- 發現的問題
- 改進建議

## 🔧 問題排查

### 常見問題
1. **生成按鈕無法點擊**
   - 檢查是否選擇了模型
   - 檢查是否選擇了法規（固定模式）
   - 檢查生成數量設定

2. **法規選擇無法操作**
   - 檢查是否啟用了隨機選擇
   - 檢查法規是否正確載入
   - 檢查瀏覽器控制台錯誤

3. **生成失敗**
   - 檢查後端服務狀態
   - 檢查Ollama服務狀態
   - 檢查網路連接

### 調試技巧
- 使用瀏覽器開發者工具
- 檢查網路請求
- 查看後端日誌
- 檢查資料庫狀態

這個測試指南涵蓋了所有主要功能點，確保批量生成與隨機選擇功能能夠正常運作。 